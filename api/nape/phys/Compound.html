<!DOCTYPE html>
<html lang="en"><head><meta charset="utf-8"/><link href="../../bootstrap-combined.min.css" rel="stylesheet" /><script type="text/javascript" src="../../jquery-1.9.1.min.js"></script><script type="text/javascript" src="../../bootstrap.min.js"></script><link href="../../styles.css" rel="stylesheet" /><link rel="icon" href="../../favicon.ico" type="image/x-icon"></link><script type="text/javascript" src="../../nav.js"></script><script type="text/javascript" src="../../index.js"></script><script type="text/javascript">var dox = {rootPath: "../../",platforms: ["flash"],showInheritedFields: false};</script><title>nape.phys.Compound - HaxeFlixel API docs</title></head><body><div class="navbar navbar-inverse navbar-fixed-top"><div class="navbar-inner"><form class="navbar-search pull-left" id="searchForm"><input id="search" type="text" class="search-query" placeholder="Filter" autocomplete="off"/></form><ul class="nav"><li id="select-platform" class="dropdown"><a href="#" class="dropdown-toggle" data-toggle="dropdown">Platform<b class="caret"></b></a><ul class="dropdown-menu"><li data="all"><a href="#">All Platforms</a></li><li data="flash"><a href="#">flash</a></li></ul></li></ul></div></div><div id="container"><div id="nav"></div><div id="content"><div class="header"><span class="viewsource"><a href="https://github.com/HaxeFlixel/flixel/tree/master/nape/phys/Compound.hx">View source</a></span><h1><code><span class="directive">class </span><span class="type">nape.phys.Compound</span><span class="keyword"> extends</span> <a class="type" href="../../nape/phys/Interactor.html">Interactor</a></code></h1></div><div class="body"><p class="availability">Available on all platforms</p><div class="doc"><p>Compound represents a grouping of physics objects into a single object.
<br/><br/>
This compound owns its constituents and works in the callback system and with
respect to adding/removing from a Space as a single object.
<pre></p>
<pre><code>  ____Cmp1_____
 /    /    &amp;#92;   &amp;#92;
</code></pre>
<p>Body1 Body2--Joint Cmp2
|     |        &#92;  |
Shp1  Shp2        Body3</p>
<pre><code>                |
               Shp3
</code></pre>
<p></pre>
For example if you have a complex car built with several bodies and
constraints you might store this in a Compound providing an easy way
of removing/adding/copying the Car as well as being able to get a single
callback for when the car collides with something.
<br/><br/>
When you add a compound to a Space, all of it's constituents get added
and furthermore, those constituents cannot be added seperately.</p></div><h2>Instance Fields</h2><a onclick="toggleInheritedFields()">Toggle inherited fields</a><div class="not-inherited"><div class="platform platform-flash"><a name="COM"></a><h3><p><code><span class="keyword">function</span> <a href="#COM"><span class="identifier">COM</span></a>(weak:<a class="type" href="../../Bool.html">Bool</a> = false):<a class="type" href="../../nape/geom/Vec2.html">Vec2</a></code></p></h3><div class="doc"><p>Compute centre of mass of Compound.</p><table class="table table-condensed"><tbody><col width="10%"/>  <col width="100%"/><tr><th colspan="2">Parameters:</th></tr><tr><td>weak</td><td><p>If true, the returned Vec2 will be automatically released
to the object pool when passed as an argument to a Nape
function. (default false)</p></td></tr><tr><th>Returns:</th><td><p>The centre of mass of compound.</p></td></tr><tr><th colspan="2">Throws:</th></tr><tr><td>#</td><td><p>If Compound has no Bodies contained directly or indirectly
that contain at least one Shape.</p></td></tr></tbody></table></div></div></div><div class="not-inherited"><div class="platform platform-flash"><a name="bodies"></a><h3><p><code><span class="keyword">var</span> <a href="#bodies"><span class="identifier">bodies</span></a>(get,null):<a class="type" href="../../nape/phys/BodyList.html">BodyList</a></code></p></h3><div class="doc"><p>List of bodies directly owned by this Compound.
<br/><br/>
This list does not include those bodies belonging to sub-compounds.</p><table class="table table-condensed"><tbody><col width="10%"/>  <col width="100%"/><tr><th>Default value:</th><td><p>[]</p></td></tr></tbody></table></div></div></div><div class="not-inherited"><div class="platform platform-flash"><a name="breakApart"></a><h3><p><code><span class="keyword">function</span> <a href="#breakApart"><span class="identifier">breakApart</span></a>():<a class="type" href="../../Void.html">Void</a></code></p></h3><div class="doc"><p>Breaking compound apart in-place.
<br/><br/>
This method will destroy the compound, moving all of it's components
to the assigned Space if this is the root compound, otherwise to the
parent compound.
<br/><br/>
Apart from being easier than doing this manually it also means that we
do not have to temporarigly remove objects from the space meaning that
things like PreListener ignored interactions will be unaffected.</p></div></div></div><div class="inherited"><div class="platform platform-flash"><a name="castBody"></a><h3><p><code><span class="keyword">var</span> <a href="#castBody"><span class="identifier">castBody</span></a>(get,null):<a class="type" href="../../Null.html">Null</a>&lt;<a class="type" href="../../nape/phys/Body.html">Body</a>&gt;</code></p></h3><p class="availability">defined by <a class="type" href="../../nape/phys/Interactor.html">Interactor</a></p><div class="doc"><p>Fast equivalent to <code>cast(interactor, Body)</code></p></div></div></div><div class="inherited"><div class="platform platform-flash"><a name="castCompound"></a><h3><p><code><span class="keyword">var</span> <a href="#castCompound"><span class="identifier">castCompound</span></a>(get,null):<a class="type" href="../../Null.html">Null</a>&lt;<a class="type" href="../../nape/phys/Compound.html">Compound</a>&gt;</code></p></h3><p class="availability">defined by <a class="type" href="../../nape/phys/Interactor.html">Interactor</a></p><div class="doc"><p>Fast equivalent to <code>cast(interactor, Compound)</code></p></div></div></div><div class="inherited"><div class="platform platform-flash"><a name="castShape"></a><h3><p><code><span class="keyword">var</span> <a href="#castShape"><span class="identifier">castShape</span></a>(get,null):<a class="type" href="../../Null.html">Null</a>&lt;<a class="type" href="../../nape/shape/Shape.html">Shape</a>&gt;</code></p></h3><p class="availability">defined by <a class="type" href="../../nape/phys/Interactor.html">Interactor</a></p><div class="doc"><p>Fast equivalent to <code>cast(interactor, Shape)</code></p></div></div></div><div class="inherited"><div class="platform platform-flash"><a name="cbTypes"></a><h3><p><code><span class="keyword">var</span> <a href="#cbTypes"><span class="identifier">cbTypes</span></a>(get,null):<a class="type" href="../../nape/callbacks/CbTypeList.html">CbTypeList</a></code></p></h3><p class="availability">defined by <a class="type" href="../../nape/phys/Interactor.html">Interactor</a></p><div class="doc"><p>Set of CbType's assigned to this Interactor.</p><table class="table table-condensed"><tbody><col width="10%"/>  <col width="100%"/><tr><th>Default value:</th><td><p>[]</p></td></tr></tbody></table></div></div></div><div class="not-inherited"><div class="platform platform-flash"><a name="compound"></a><h3><p><code><span class="keyword">var</span> <a href="#compound"><span class="identifier">compound</span></a>(get,set):<a class="type" href="../../Null.html">Null</a>&lt;<a class="type" href="../../nape/phys/Compound.html">Compound</a>&gt;</code></p></h3><div class="doc"><p>Compound that this compound belongs to.</p><table class="table table-condensed"><tbody><col width="10%"/>  <col width="100%"/><tr><th>Default value:</th><td><p>null</p></td></tr></tbody></table></div></div></div><div class="not-inherited"><div class="platform platform-flash"><a name="compounds"></a><h3><p><code><span class="keyword">var</span> <a href="#compounds"><span class="identifier">compounds</span></a>(get,null):<a class="type" href="../../nape/phys/CompoundList.html">CompoundList</a></code></p></h3><div class="doc"><p>List of compounds directly owned by this Compound.
<br/><br/>
This list does not include those compounds belonging to sub-compounds.</p><table class="table table-condensed"><tbody><col width="10%"/>  <col width="100%"/><tr><th>Default value:</th><td><p>[]</p></td></tr></tbody></table></div></div></div><div class="not-inherited"><div class="platform platform-flash"><a name="constraints"></a><h3><p><code><span class="keyword">var</span> <a href="#constraints"><span class="identifier">constraints</span></a>(get,null):<a class="type" href="../../nape/constraint/ConstraintList.html">ConstraintList</a></code></p></h3><div class="doc"><p>List of constraints directly owned by this Compound.
<br/><br/>
This list does not include those constraints belonging to sub-compounds.</p><table class="table table-condensed"><tbody><col width="10%"/>  <col width="100%"/><tr><th>Default value:</th><td><p>[]</p></td></tr></tbody></table></div></div></div><div class="not-inherited"><div class="platform platform-flash"><a name="copy"></a><h3><p><code><span class="keyword">function</span> <a href="#copy"><span class="identifier">copy</span></a>():<a class="type" href="../../nape/phys/Compound.html">Compound</a></code></p></h3><div class="doc"><p>Produce an exact copy of this Compound.
<br/><br/>
This copy will remap owned constraints so that their body properties
refer to the newly copied bodies also owned by this compound.
<br/><br/>
If this compound tree contains any constraints that make references
to outside of this compound; then these properties will be made null.
<pre></p>
<pre><code>  ____Cmp1____               [Cmp2.copy()]
 /    /        &amp;#92;
</code></pre>
<p>Body1 Body2___     Cmp2        null    Cmp2'
|     |     &#92;     /  &#92;         &#92;    /    &#92;
Shp1  Shp2     Joint--Body3       Joint'--Body3'</p>
<pre><code>                    |                   |
                   Shp3               Shp3'
</code></pre>
<p></pre>
For instance if copying Cmp1 then all is well, but if we copy Cmp2 the
copied Joint will have one of it's body references null as that body is
not owned directly, or indirectly by the compound.</p></div></div></div><div class="inherited"><div class="platform platform-flash"><a name="group"></a><h3><p><code><span class="keyword">var</span> <a href="#group"><span class="identifier">group</span></a>(get,set):<a class="type" href="../../Null.html">Null</a>&lt;<a class="type" href="../../nape/dynamics/InteractionGroup.html">InteractionGroup</a>&gt;</code></p></h3><p class="availability">defined by <a class="type" href="../../nape/phys/Interactor.html">Interactor</a></p><div class="doc"><p>InteractionGroup assigned to this Interactor.</p><table class="table table-condensed"><tbody><col width="10%"/>  <col width="100%"/><tr><th>Default value:</th><td><p>null</p></td></tr></tbody></table></div></div></div><div class="inherited"><div class="platform platform-flash"><a name="id"></a><h3><p><code><span class="keyword">var</span> <a href="#id"><span class="identifier">id</span></a>(get,null):<a class="type" href="../../Int.html">Int</a></code></p></h3><p class="availability">defined by <a class="type" href="../../nape/phys/Interactor.html">Interactor</a></p><div class="doc"><p>Unique id of this Interactor.</p></div></div></div><div class="inherited"><div class="platform platform-flash"><a name="isBody"></a><h3><p><code><span class="keyword">inline </span><span class="keyword">function</span> <a href="#isBody"><span class="identifier">isBody</span></a>():<a class="type" href="../../Bool.html">Bool</a></code></p></h3><p class="availability">defined by <a class="type" href="../../nape/phys/Interactor.html">Interactor</a></p><div class="doc"><p>Fast equivalent to <code>Std.is(interactor, Body)</code></p><table class="table table-condensed"><tbody><col width="10%"/>  <col width="100%"/><tr><th>Returns:</th><td><p>true if this Interactor is a Body.</p></td></tr></tbody></table></div></div></div><div class="inherited"><div class="platform platform-flash"><a name="isCompound"></a><h3><p><code><span class="keyword">inline </span><span class="keyword">function</span> <a href="#isCompound"><span class="identifier">isCompound</span></a>():<a class="type" href="../../Bool.html">Bool</a></code></p></h3><p class="availability">defined by <a class="type" href="../../nape/phys/Interactor.html">Interactor</a></p><div class="doc"><p>Fast equivalent to <code>Std.is(interactor, Compound)</code></p><table class="table table-condensed"><tbody><col width="10%"/>  <col width="100%"/><tr><th>Returns:</th><td><p>true if this Interactor is a Compound.</p></td></tr></tbody></table></div></div></div><div class="inherited"><div class="platform platform-flash"><a name="isShape"></a><h3><p><code><span class="keyword">inline </span><span class="keyword">function</span> <a href="#isShape"><span class="identifier">isShape</span></a>():<a class="type" href="../../Bool.html">Bool</a></code></p></h3><p class="availability">defined by <a class="type" href="../../nape/phys/Interactor.html">Interactor</a></p><div class="doc"><p>Fast equivalent to <code>Std.is(interactor, Shape)</code></p><table class="table table-condensed"><tbody><col width="10%"/>  <col width="100%"/><tr><th>Returns:</th><td><p>true if this Interactor is a Shape.</p></td></tr></tbody></table></div></div></div><div class="not-inherited"><div class="platform platform-flash"><a name="new"></a><h3><p><code><span class="keyword">function</span> <a href="#new"><span class="identifier">new</span></a>():<a class="type" href="../../Void.html">Void</a></code></p></h3><div class="doc"><p>Construct a new Compound.</p>
<p>@result The constructed Compound.</p></div></div></div><div class="not-inherited"><div class="platform platform-flash"><a name="rotate"></a><h3><p><code><span class="keyword">function</span> <a href="#rotate"><span class="identifier">rotate</span></a>(centre:<a class="type" href="../../nape/geom/Vec2.html">Vec2</a>, angle:<a class="type" href="../../Float.html">Float</a>):<a class="type" href="../../nape/phys/Compound.html">Compound</a></code></p></h3><div class="doc"><p>Rotate entire compound about a point.
<br/><br/>
This is equivalent to: <code>compound.visitBodies(function (b) b.rotate(centre, angle))</code></p><table class="table table-condensed"><tbody><col width="10%"/>  <col width="100%"/><tr><th colspan="2">Parameters:</th></tr><tr><td>centre</td><td><p>The centre of rotation in world coordinates.</p></td></tr><tr><td>angle</td><td><p>The clockwise angle of rotation in radians.</p></td></tr><tr><th>Returns:</th><td><p>A reference to this Compound.</p></td></tr><tr><th colspan="2">Throws:</th></tr><tr><td>#</td><td><p>If centre is null or disposed of.</p></td></tr><tr><td>#</td><td><p>If any Body in the compound is static, and this compound is in a Space.</p></td></tr></tbody></table></div></div></div><div class="not-inherited"><div class="platform platform-flash"><a name="space"></a><h3><p><code><span class="keyword">var</span> <a href="#space"><span class="identifier">space</span></a>(get,set):<a class="type" href="../../Null.html">Null</a>&lt;<a class="type" href="../../nape/space/Space.html">Space</a>&gt;</code></p></h3><div class="doc"><p>Space this compound belongs to.
<br/><br/>
This value is immutable when this compound belongs to another parent Compound.</p><table class="table table-condensed"><tbody><col width="10%"/>  <col width="100%"/><tr><th>Default value:</th><td><p>null</p></td></tr></tbody></table></div></div></div><div class="not-inherited"><div class="platform platform-flash"><a name="toString"></a><h3><p><code><span class="keyword">function</span> <a href="#toString"><span class="identifier">toString</span></a>():<a class="type" href="../../String.html">String</a></code></p></h3><div class="doc"><p>@private</p></div></div></div><div class="not-inherited"><div class="platform platform-flash"><a name="translate"></a><h3><p><code><span class="keyword">function</span> <a href="#translate"><span class="identifier">translate</span></a>(translation:<a class="type" href="../../nape/geom/Vec2.html">Vec2</a>):<a class="type" href="../../nape/phys/Compound.html">Compound</a></code></p></h3><div class="doc"><p>Translate entire compound.
<br/><br/>
This is equivalent to: <code>compound.visitBodies(function (b) b.translate(translation))</code></p><table class="table table-condensed"><tbody><col width="10%"/>  <col width="100%"/><tr><th colspan="2">Parameters:</th></tr><tr><td>translation</td><td><p>The translation to apply to the Compound.</p></td></tr><tr><th>Returns:</th><td><p>A reference to this Compound.</p></td></tr><tr><th colspan="2">Throws:</th></tr><tr><td>#</td><td><p>If translation is null or disposed of.</p></td></tr><tr><td>#</td><td><p>If any Body in the compound is static, and this compound is in a Space.</p></td></tr></tbody></table></div></div></div><div class="inherited"><div class="platform platform-flash"><a name="userData"></a><h3><p><code><span class="keyword">var</span> <a href="#userData"><span class="identifier">userData</span></a>(get,null):<a class="type" href="../../Dynamic.html">Dynamic</a><a class="type" href="../../Dynamic.html">Dynamic</a></code></p></h3><p class="availability">defined by <a class="type" href="../../nape/phys/Interactor.html">Interactor</a></p><div class="doc"><p>Dynamic object for user to store additional data.
<br/><br/>
This object cannot be set, only its dynamically created
properties may be set. In AS3 the type of this property is &amp;#42
<br/><br/>
This object will be lazily constructed so that until accessed
for the first time, will be null internally.</p><table class="table table-condensed"><tbody><col width="10%"/>  <col width="100%"/><tr><th>Default value:</th><td><p>{}</p></td></tr></tbody></table></div></div></div><div class="not-inherited"><div class="platform platform-flash"><a name="visitBodies"></a><h3><p><code><span class="keyword">function</span> <a href="#visitBodies"><span class="identifier">visitBodies</span></a>(lambda:<a class="type" href="../../nape/phys/Body.html">Body</a> -&gt;&nbsp;<a class="type" href="../../Void.html">Void</a>):<a class="type" href="../../Void.html">Void</a></code></p></h3><div class="doc"><p>Method to iterate over all bodies contained directly or indirectly by
this Compound.</p><table class="table table-condensed"><tbody><col width="10%"/>  <col width="100%"/><tr><th colspan="2">Parameters:</th></tr><tr><td>lambda</td><td><p>The method to apply to each Body.</p></td></tr><tr><th colspan="2">Throws:</th></tr><tr><td>#</td><td><p>If lambda is null.</p></td></tr></tbody></table></div></div></div><div class="not-inherited"><div class="platform platform-flash"><a name="visitCompounds"></a><h3><p><code><span class="keyword">function</span> <a href="#visitCompounds"><span class="identifier">visitCompounds</span></a>(lambda:<a class="type" href="../../nape/phys/Compound.html">Compound</a> -&gt;&nbsp;<a class="type" href="../../Void.html">Void</a>):<a class="type" href="../../Void.html">Void</a></code></p></h3><div class="doc"><p>Method to iterate over all compounds contained directly or indirectly by
this Compound.</p><table class="table table-condensed"><tbody><col width="10%"/>  <col width="100%"/><tr><th colspan="2">Parameters:</th></tr><tr><td>lambda</td><td><p>The method to apply to each Compound.</p></td></tr><tr><th colspan="2">Throws:</th></tr><tr><td>#</td><td><p>If lambda is null.</p></td></tr></tbody></table></div></div></div><div class="not-inherited"><div class="platform platform-flash"><a name="visitConstraints"></a><h3><p><code><span class="keyword">function</span> <a href="#visitConstraints"><span class="identifier">visitConstraints</span></a>(lambda:<a class="type" href="../../nape/constraint/Constraint.html">Constraint</a> -&gt;&nbsp;<a class="type" href="../../Void.html">Void</a>):<a class="type" href="../../Void.html">Void</a></code></p></h3><div class="doc"><p>Method to iterate over all constraints contained directly or indirectly by
this Compound.</p><table class="table table-condensed"><tbody><col width="10%"/>  <col width="100%"/><tr><th colspan="2">Parameters:</th></tr><tr><td>lambda</td><td><p>The method to apply to each Constraint.</p></td></tr><tr><th colspan="2">Throws:</th></tr><tr><td>#</td><td><p>If lambda is null.</p></td></tr></tbody></table></div></div></div><div class="not-inherited"><div class="platform platform-flash"><a name="zpp_inner"></a><h3><p><code><span class="keyword">var</span> <a href="#zpp_inner"><span class="identifier">zpp_inner</span></a>:<a class="type" href="../../zpp_nape/phys/ZPP_Compound.html">ZPP_Compound</a><span> = null</span></code></p></h3><div class="doc"><p>@private</p></div></div></div><div class="inherited"><div class="platform platform-flash"><a name="zpp_inner_i"></a><h3><p><code><span class="keyword">var</span> <a href="#zpp_inner_i"><span class="identifier">zpp_inner_i</span></a>:<a class="type" href="../../zpp_nape/phys/ZPP_Interactor.html">ZPP_Interactor</a><span> = null</span></code></p></h3><p class="availability">defined by <a class="type" href="../../nape/phys/Interactor.html">Interactor</a></p><div class="doc"><p>@private</p></div></div></div></div></div></div></body></html>